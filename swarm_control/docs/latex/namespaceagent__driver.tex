\hypertarget{namespaceagent__driver}{}\section{agent\+\_\+driver Namespace Reference}
\label{namespaceagent__driver}\index{agent\+\_\+driver@{agent\+\_\+driver}}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespaceagent__driver_a8533f9b2a436a7a18b583d2a3cdd2bb0}{slave\+\_\+callback} (\hyperlink{namespaceagent__driver_aa31ae9eef11875e6a4a6cf2841c7244c}{msg}, \hyperlink{namespaceagent__driver_a5fb9e432fe347e66d24555c692692cea}{slave})
\item 
def \hyperlink{namespaceagent__driver_ac3e30dc982f1af57da8344c9cbfa0dd6}{agent\+\_\+callback} (\hyperlink{namespaceagent__driver_aa31ae9eef11875e6a4a6cf2841c7244c}{msg}, args)
\item 
def \hyperlink{namespaceagent__driver_aa2528ff29007a94600f692a960ec32dd}{Quad2\+Euler} (q)
\item 
\mbox{\Hypertarget{namespaceagent__driver_a787c900ffcbbc07ba51b9b599ab0c6fa}\label{namespaceagent__driver_a787c900ffcbbc07ba51b9b599ab0c6fa}} 
def {\bfseries level\+\_\+of\+\_\+distance\+\_\+bwtn} (a, s)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{namespaceagent__driver_afe4d59e32838cbab143b90af1103cba9}\label{namespaceagent__driver_afe4d59e32838cbab143b90af1103cba9}} 
float {\bfseries epsion} = 0.\+001
\item 
list {\bfseries wps}
\item 
\mbox{\Hypertarget{namespaceagent__driver_a385f0708d1616008a95c5c51331c3395}\label{namespaceagent__driver_a385f0708d1616008a95c5c51331c3395}} 
int {\bfseries i} = 0
\item 
\mbox{\Hypertarget{namespaceagent__driver_afa84d8b37bda7e27d006422ae25c7ade}\label{namespaceagent__driver_afa84d8b37bda7e27d006422ae25c7ade}} 
int \hyperlink{namespaceagent__driver_afa84d8b37bda7e27d006422ae25c7ade}{o\+\_\+des} = 5
\begin{DoxyCompactList}\small\item\em desired level of distance between any two agents \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagent__driver_ae1469a5763093bc8ac47f837fd58bc9c}\label{namespaceagent__driver_ae1469a5763093bc8ac47f837fd58bc9c}} 
int \hyperlink{namespaceagent__driver_ae1469a5763093bc8ac47f837fd58bc9c}{C} = 5
\begin{DoxyCompactList}\small\item\em denumerator of the force in the proximal control vector \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagent__driver_af804ab7d71c017a84796b859dc03f9b6}\label{namespaceagent__driver_af804ab7d71c017a84796b859dc03f9b6}} 
int \hyperlink{namespaceagent__driver_af804ab7d71c017a84796b859dc03f9b6}{gamma} = 10
\begin{DoxyCompactList}\small\item\em weight of the direction preference vector \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagent__driver_a19ad1680988a89c19242137b0124df38}\label{namespaceagent__driver_a19ad1680988a89c19242137b0124df38}} 
int \hyperlink{namespaceagent__driver_a19ad1680988a89c19242137b0124df38}{beta} = 12
\begin{DoxyCompactList}\small\item\em weight of the proximal control vector \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagent__driver_a2b90f2eeeb6a7088e192c3e0211f9726}\label{namespaceagent__driver_a2b90f2eeeb6a7088e192c3e0211f9726}} 
float \hyperlink{namespaceagent__driver_a2b90f2eeeb6a7088e192c3e0211f9726}{u\+\_\+max} = 2.\+50
\begin{DoxyCompactList}\small\item\em Maximum forward velocity of the agent. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagent__driver_afd869041899ec75d1297dbaacc82aae9}\label{namespaceagent__driver_afd869041899ec75d1297dbaacc82aae9}} 
float \hyperlink{namespaceagent__driver_afd869041899ec75d1297dbaacc82aae9}{K\+\_\+p} = 1.\+0
\begin{DoxyCompactList}\small\item\em Maximum angular velocity of the agent. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagent__driver_a55f53bb9a230b94cf70369586fb9594e}\label{namespaceagent__driver_a55f53bb9a230b94cf70369586fb9594e}} 
{\bfseries swarm} = rospy.\+myargv()\mbox{[}1\+:\mbox{]}
\item 
\mbox{\Hypertarget{namespaceagent__driver_ac3929dcf65be81211593bd94e6395635}\label{namespaceagent__driver_ac3929dcf65be81211593bd94e6395635}} 
list {\bfseries swarm\+\_\+pose} = \mbox{[}Pose()\mbox{]} $\ast$ len(swarm)
\item 
\mbox{\Hypertarget{namespaceagent__driver_a5fb9e432fe347e66d24555c692692cea}\label{namespaceagent__driver_a5fb9e432fe347e66d24555c692692cea}} 
\hyperlink{namespaceagent__driver_a5fb9e432fe347e66d24555c692692cea}{slave} = Pose()
\begin{DoxyCompactList}\small\item\em the position of the agent \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagent__driver_aa31ae9eef11875e6a4a6cf2841c7244c}\label{namespaceagent__driver_aa31ae9eef11875e6a4a6cf2841c7244c}} 
\hyperlink{namespaceagent__driver_aa31ae9eef11875e6a4a6cf2841c7244c}{msg} = Twist()
\begin{DoxyCompactList}\small\item\em the velocity of the agent \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagent__driver_a9f63cd60f5d012692a888d77c90ed8ae}\label{namespaceagent__driver_a9f63cd60f5d012692a888d77c90ed8ae}} 
{\bfseries anonymous}
\item 
\mbox{\Hypertarget{namespaceagent__driver_ac8d2be5c1df0ac01c96a822ddf12af05}\label{namespaceagent__driver_ac8d2be5c1df0ac01c96a822ddf12af05}} 
{\bfseries pub} = rospy.\+Publisher(\textquotesingle{}cmd\+\_\+vel\textquotesingle{}, Twist, queue\+\_\+size=10)
\item 
\mbox{\Hypertarget{namespaceagent__driver_ae1397d65f221ef8d5d31ac453b6c0506}\label{namespaceagent__driver_ae1397d65f221ef8d5d31ac453b6c0506}} 
{\bfseries rate} = rospy.\+Rate(100)
\item 
\mbox{\Hypertarget{namespaceagent__driver_a7cc62c7cce7f7b052d6c6dee070dd165}\label{namespaceagent__driver_a7cc62c7cce7f7b052d6c6dee070dd165}} 
def \hyperlink{namespaceagent__driver_a7cc62c7cce7f7b052d6c6dee070dd165}{alpha\+\_\+cur} = \hyperlink{namespaceagent__driver_aa2528ff29007a94600f692a960ec32dd}{Quad2\+Euler}(slave.\+orientation)\mbox{[}2\mbox{]}
\begin{DoxyCompactList}\small\item\em the current yaw of the agent \end{DoxyCompactList}\item 
\mbox{\Hypertarget{namespaceagent__driver_aa0f26cb55bd5e7966557e6da7a007bda}\label{namespaceagent__driver_aa0f26cb55bd5e7966557e6da7a007bda}} 
int {\bfseries total\+\_\+yaw} = 0
\item 
\mbox{\Hypertarget{namespaceagent__driver_a5f1ba44d7b9c3aea5706d3668ddeaa63}\label{namespaceagent__driver_a5f1ba44d7b9c3aea5706d3668ddeaa63}} 
{\bfseries cos\+\_\+head}
\item 
\mbox{\Hypertarget{namespaceagent__driver_a4b5ec2ea4895b642f90a43807739eec2}\label{namespaceagent__driver_a4b5ec2ea4895b642f90a43807739eec2}} 
{\bfseries sin\+\_\+head}
\item 
\mbox{\Hypertarget{namespaceagent__driver_a3c6fe69f5adc8f21c13c3359821af4f4}\label{namespaceagent__driver_a3c6fe69f5adc8f21c13c3359821af4f4}} 
int {\bfseries cos\+\_\+pose} = 0
\item 
\mbox{\Hypertarget{namespaceagent__driver_a7a469b18b8ec17c491d6a31419467246}\label{namespaceagent__driver_a7a469b18b8ec17c491d6a31419467246}} 
int {\bfseries sin\+\_\+pose} = 0
\item 
\mbox{\Hypertarget{namespaceagent__driver_af6d9c4c0863cb7aa820e332c16562500}\label{namespaceagent__driver_af6d9c4c0863cb7aa820e332c16562500}} 
def {\bfseries o\+\_\+k} = level\+\_\+of\+\_\+distance\+\_\+bwtn(agent.\+position, slave.\+position)
\item 
\mbox{\Hypertarget{namespaceagent__driver_a02f3b2ebda7bf3059d807a0635ea0e58}\label{namespaceagent__driver_a02f3b2ebda7bf3059d807a0635ea0e58}} 
int {\bfseries force} = -\/((\hyperlink{namespaceagent__driver_afa84d8b37bda7e27d006422ae25c7ade}{o\+\_\+des} -\/ o\+\_\+k) $\ast$$\ast$ 2) / \hyperlink{namespaceagent__driver_ae1469a5763093bc8ac47f837fd58bc9c}{C}
\item 
{\bfseries disp\+\_\+angle}
\item 
{\bfseries pref\+\_\+yaw}
\item 
\mbox{\Hypertarget{namespaceagent__driver_a06cf349e2da97db20ebd4bc072f408e7}\label{namespaceagent__driver_a06cf349e2da97db20ebd4bc072f408e7}} 
def {\bfseries delta} = pref\+\_\+yaw -\/ \hyperlink{namespaceagent__driver_a7cc62c7cce7f7b052d6c6dee070dd165}{alpha\+\_\+cur}
\item 
\mbox{\Hypertarget{namespaceagent__driver_a2f759ce73f69deb2bbadcd6e11142a58}\label{namespaceagent__driver_a2f759ce73f69deb2bbadcd6e11142a58}} 
int {\bfseries cos\+\_\+alpha} = cos\+\_\+head + \hyperlink{namespaceagent__driver_a19ad1680988a89c19242137b0124df38}{beta} $\ast$ cos\+\_\+pose + \hyperlink{namespaceagent__driver_af804ab7d71c017a84796b859dc03f9b6}{gamma} $\ast$ math.\+cos(delta)
\item 
\mbox{\Hypertarget{namespaceagent__driver_a97b58b33728b27b8faa265ba4e1ff78a}\label{namespaceagent__driver_a97b58b33728b27b8faa265ba4e1ff78a}} 
int {\bfseries sin\+\_\+alpha} = sin\+\_\+head + \hyperlink{namespaceagent__driver_a19ad1680988a89c19242137b0124df38}{beta} $\ast$ sin\+\_\+pose + \hyperlink{namespaceagent__driver_af804ab7d71c017a84796b859dc03f9b6}{gamma} $\ast$ math.\+sin(delta)
\item 
\mbox{\Hypertarget{namespaceagent__driver_a7db4de5a187ae04af096fcc96fc5ce1c}\label{namespaceagent__driver_a7db4de5a187ae04af096fcc96fc5ce1c}} 
{\bfseries alpha} = math.\+atan2(sin\+\_\+alpha, cos\+\_\+alpha)
\item 
\mbox{\Hypertarget{namespaceagent__driver_a6b2b8d26a341bf85b52ad8063caf0ded}\label{namespaceagent__driver_a6b2b8d26a341bf85b52ad8063caf0ded}} 
{\bfseries dot\+\_\+p} = math.\+cos(alpha) $\ast$ math.\+cos(\hyperlink{namespaceagent__driver_a7cc62c7cce7f7b052d6c6dee070dd165}{alpha\+\_\+cur}) + \textbackslash{}
\item 
\mbox{\Hypertarget{namespaceagent__driver_ad528f849546965c29767e80dd20b4443}\label{namespaceagent__driver_ad528f849546965c29767e80dd20b4443}} 
{\bfseries x}
\item 
\mbox{\Hypertarget{namespaceagent__driver_a7e6afdb8ba53accace582aed31678869}\label{namespaceagent__driver_a7e6afdb8ba53accace582aed31678869}} 
{\bfseries z}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}@package swarm_control
Package applies self-organized flocking behavior for a given agent

This package is created for kovan summer internship by
@see self-organized flocking behavior
@author Adnan Harun DOGAN
@author Abulla Ahmadkhan
\end{DoxyVerb}
 

\subsection{Function Documentation}
\mbox{\Hypertarget{namespaceagent__driver_ac3e30dc982f1af57da8344c9cbfa0dd6}\label{namespaceagent__driver_ac3e30dc982f1af57da8344c9cbfa0dd6}} 
\index{agent\+\_\+driver@{agent\+\_\+driver}!agent\+\_\+callback@{agent\+\_\+callback}}
\index{agent\+\_\+callback@{agent\+\_\+callback}!agent\+\_\+driver@{agent\+\_\+driver}}
\subsubsection{\texorpdfstring{agent\+\_\+callback()}{agent\_callback()}}
{\footnotesize\ttfamily def agent\+\_\+driver.\+agent\+\_\+callback (\begin{DoxyParamCaption}\item[{}]{msg,  }\item[{}]{args }\end{DoxyParamCaption})}

\begin{DoxyVerb}This is a callback function of type PoseStamped in geometry_msgs

This function updates args[1]th element of the list args[0] of type
list of PoseStamped() with msg of type PoseStamped()

Parameters
----------
msg : PoseStamped()
        This is a message of topic ground_truth_to_tf/pose containing
        location and orientation information of the agent to be call-
        backed
args: ([Pose()], int)
        This is a pair (2-tuple) of the list of agents' positions in
        the swarm and the index of the agent whose pose is published
        to be updated in the list

Returns
    nothing
-------
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceagent__driver_aa2528ff29007a94600f692a960ec32dd}\label{namespaceagent__driver_aa2528ff29007a94600f692a960ec32dd}} 
\index{agent\+\_\+driver@{agent\+\_\+driver}!Quad2\+Euler@{Quad2\+Euler}}
\index{Quad2\+Euler@{Quad2\+Euler}!agent\+\_\+driver@{agent\+\_\+driver}}
\subsubsection{\texorpdfstring{Quad2\+Euler()}{Quad2Euler()}}
{\footnotesize\ttfamily def agent\+\_\+driver.\+Quad2\+Euler (\begin{DoxyParamCaption}\item[{}]{q }\end{DoxyParamCaption})}

\begin{DoxyVerb}This function transforms from quernion to euler

#Quaternion_to_Euler_Angles_Conversion
For details, see https://en.wikipedia.org/wiki/Conversion_between_quaternions_and_Euler_angles

Parameters
----------
q : Pose().orientation
    This is an orientation vector in queternion form

Returns
    The euler form of the parameter q
-------
int
    Description of return value
\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceagent__driver_a8533f9b2a436a7a18b583d2a3cdd2bb0}\label{namespaceagent__driver_a8533f9b2a436a7a18b583d2a3cdd2bb0}} 
\index{agent\+\_\+driver@{agent\+\_\+driver}!slave\+\_\+callback@{slave\+\_\+callback}}
\index{slave\+\_\+callback@{slave\+\_\+callback}!agent\+\_\+driver@{agent\+\_\+driver}}
\subsubsection{\texorpdfstring{slave\+\_\+callback()}{slave\_callback()}}
{\footnotesize\ttfamily def agent\+\_\+driver.\+slave\+\_\+callback (\begin{DoxyParamCaption}\item[{}]{msg,  }\item[{}]{slave }\end{DoxyParamCaption})}

\begin{DoxyVerb}This is a callback function of type PoseStamped in geometry_msgs

Updates slaves own position, stored in pose of type PoseStamped(),
with msg, of type PoseStamped().

Parameters
----------
msg : PoseStamped()
        This is a message of topic ground_truth_to_tf/pose containing
        location and orientation information of the agent
slave: Pose()
        This is a variable to keep up-to-date the location and orien-
        tation information of the agent

Returns
    nothing
-------
\end{DoxyVerb}
 

\subsection{Variable Documentation}
\mbox{\Hypertarget{namespaceagent__driver_a4911e5b5555613d31fc9b47d3f6706ad}\label{namespaceagent__driver_a4911e5b5555613d31fc9b47d3f6706ad}} 
\index{agent\+\_\+driver@{agent\+\_\+driver}!disp\+\_\+angle@{disp\+\_\+angle}}
\index{disp\+\_\+angle@{disp\+\_\+angle}!agent\+\_\+driver@{agent\+\_\+driver}}
\subsubsection{\texorpdfstring{disp\+\_\+angle}{disp\_angle}}
{\footnotesize\ttfamily agent\+\_\+driver.\+disp\+\_\+angle}

{\bfseries Initial value\+:}
\begin{DoxyCode}
1 =  math.atan2(
2                 agent.position.y - slave.position.y,  agent.position.x - slave.position.x)
\end{DoxyCode}
\mbox{\Hypertarget{namespaceagent__driver_a653f77a18e690ddc0b64a992197d77e6}\label{namespaceagent__driver_a653f77a18e690ddc0b64a992197d77e6}} 
\index{agent\+\_\+driver@{agent\+\_\+driver}!pref\+\_\+yaw@{pref\+\_\+yaw}}
\index{pref\+\_\+yaw@{pref\+\_\+yaw}!agent\+\_\+driver@{agent\+\_\+driver}}
\subsubsection{\texorpdfstring{pref\+\_\+yaw}{pref\_yaw}}
{\footnotesize\ttfamily agent\+\_\+driver.\+pref\+\_\+yaw}

{\bfseries Initial value\+:}
\begin{DoxyCode}
1 =  math.atan2(
2             wps[i][1] - slave.position.y, wps[i][0] - slave.position.x)
\end{DoxyCode}
\mbox{\Hypertarget{namespaceagent__driver_ae417f11b93b9b5d6ad1c182a51f830a5}\label{namespaceagent__driver_ae417f11b93b9b5d6ad1c182a51f830a5}} 
\index{agent\+\_\+driver@{agent\+\_\+driver}!wps@{wps}}
\index{wps@{wps}!agent\+\_\+driver@{agent\+\_\+driver}}
\subsubsection{\texorpdfstring{wps}{wps}}
{\footnotesize\ttfamily list agent\+\_\+driver.\+wps}

{\bfseries Initial value\+:}
\begin{DoxyCode}
1 =  [(8, 6, 10), (6, 8, 10), (0, 10, 10), (-6, 8, 10), (-8, 6, 10), (-10, 0, 10),
2            (-8, -6, 10), (-6, -8, 10), (0, -10, 10), (6, -8, 10), (8, -6, 10), (10, 0, 10)]
\end{DoxyCode}
